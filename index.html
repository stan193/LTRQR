<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shift Dashboard</title>
  
  <!-- Font: Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
   
    body { 
      font-family: 'Poppins', sans-serif; 
      background-color: #2E1B70; 
      color: white; 
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow-x: hidden;
    }

    
    .logo-container {
      position: absolute;
      top: 25px;
      left: 25px;
      background-color: #FFFFFF; 
      padding: 10px 25px;      
      border-radius: 12px;      
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      z-index: 100;
      text-decoration: none; /* No underline */
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .logo-container:hover {
        transform: scale(1.05); /* Slight zoom on hover */
        box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    }

    .top-left-img { height: 35px; width: auto; display: block; border: none; }

    /* Main Card */
    .card { 
      background: #E33970; /* Default IT Pink */
      border-radius: 30px; 
      padding: 30px; 
      box-shadow: 0 20px 50px rgba(0,0,0,0.5); 
      border: 1px solid rgba(255,255,255,0.1); 
      max-width: 380px; 
      width: 85%; 
      text-align: center;
      transition: background-color 0.4s ease; 
      position: relative;
    }

    /* --- THE SWITCH --- */
    .switch-wrapper {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 50px;
        padding: 5px;
        display: flex;
        justify-content: space-between;
        margin-bottom: 25px;
        border: 1px solid rgba(255,255,255,0.2);
    }

    .switch-btn {
        flex: 1;
        padding: 12px 0;
        border: none;
        border-radius: 40px;
        background: transparent;
        color: rgba(255,255,255,0.7);
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .switch-btn.active {
        background: #FFFFFF;
        color: #2E1B70; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transform: scale(1.02);
    }

    /* Typography */
    h1 { 
        font-size: 1.6rem; 
        margin: 5px 0 10px 0; 
        font-weight: 700; 
        letter-spacing: 0.5px;
    }

    #clock-container { margin: 15px 0; }
    .time-text { font-size: 2.5rem; font-weight: 700; display: block; line-height: 1; margin-top: 5px; }
    .date-text { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; }

    /* Staff & Status */
    .staff-section { margin: 25px 0; }
    .staff-name { font-size: 1.4rem; font-weight: 600; display: block; margin-bottom: 8px; }
    
    .status-badge { 
        display: inline-flex;
        align-items: center;
        padding: 8px 20px; 
        border-radius: 50px; 
        font-weight: 600; 
        font-size: 0.9rem; 
        text-transform: uppercase;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .on-duty { background: #00E676; color: #053a1f; }
    .off-duty { background: #546E7A; color: white; }

    /* Pulse Dot */
    .dot {
        height: 10px; width: 10px;
        background-color: currentColor;
        border-radius: 50%;
        display: inline-block;
        margin-right: 8px;
        animation: blink 1.5s infinite;
    }
    @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

    /* Action Buttons */
    .contact-container {
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      padding: 14px;
      border-radius: 15px;
      transition: transform 0.2s;
    }
    .btn:hover { transform: translateY(-3px); }

    .btn-wa { background: #25D366; color: white; }
    .btn-call { background: white; color: #333; }

    /* Footer */
    .footer-link {
        display: inline-block;
        margin-top: 20px;
        color: rgba(255,255,255,0.8);
        font-size: 0.8rem;
    }
    .shift-info {
        font-size: 0.75rem; 
        background: rgba(0,0,0,0.2);
        padding: 5px 12px;
        border-radius: 20px;
        margin-top: 15px;
        display: inline-block;
    }

    @media (max-width: 480px) {
        .logo-container { top: 15px; left: 15px; padding: 8px 20px; }
        .card { width: 90%; padding: 25px; }
    }
  </style>
</head>
<body>

<!-- LOGO LINK -->
<a href="https://www.lagardere-tr.ae/en/" target="_blank" class="logo-container">
    <img src="https://www.lagardere-tr.ae/sites/default/files/styles/185x58/public/logo_hd_3.png" alt="Logo" class="top-left-img">
</a>

<div class="card" id="main-card">
  
  <!-- THE SWITCH -->
  <div class="switch-wrapper">
      <button class="switch-btn active" id="btn-it" onclick="toggleDept('IT')">IT Support</button>
      <button class="switch-btn" id="btn-wh" onclick="toggleDept('WH')">Warehouse</button>
  </div>

  <h1 id="header-title">IT Night Shift</h1>
  
  <div id="clock-container">
    <span id="date-el" class="date-text">Loading...</span>
    <span id="time-el" class="time-text">--:--</span>
  </div>

  <div class="staff-section">
      <span id="staff-name" class="staff-name">NAME</span> 
      <div id="status-badge" class="status-badge">Checking...</div>
  </div>

  <div id="contact-area" class="contact-container">
    <a href="#" id="wa-link" target="_blank" class="btn btn-wa">
       ðŸ’¬ WhatsApp
    </a>

    <a href="#" id="call-link" class="btn btn-call">
       <span id="phone-display">ðŸ“ž Call Support</span>
    </a>
  </div>
  
  <a href="https://aeliadutyfree.sharepoint.com/sites/Lagardere-Helpdesk2" target="_blank" class="footer-link" id="ticket-link">Raise Support Ticket</a>
  <br>
  <div class="shift-info" id="shift-hours">Shift: 9:00 PM - 6:00 AM</div>
</div>

<script>
  // ==========================================
  // --- CONFIGURATION ---
  // ==========================================
  const config = {
      IT: {
          title: "IT Night Shift",
          staff: "MYAT",
          phone: "+971501058256",
          color: "#E33970", 
          startHour: 21,    
          displayRange: "9:00 PM - 10:30 AM"
      },
      WH: {
          title: "Warehouse Shift",
          staff: "WH TEAM", 
          phone: "+971500000000", // Update this number
          color: "#E33970", 
          startHour: 20,    
          displayRange: "8:00 PM - 10:30 AM"
      }
  };

  let currentDept = 'IT';

  // ==========================================

  function toggleDept(dept) {
      currentDept = dept;
      
      // Update Switch Visuals
      document.getElementById('btn-it').className = (dept === 'IT') ? 'switch-btn active' : 'switch-btn';
      document.getElementById('btn-wh').className = (dept === 'WH') ? 'switch-btn active' : 'switch-btn';
      
      // Update Card Background Color
      document.getElementById('main-card').style.background = config[dept].color;
      
      // Force Update Text/Status immediately
      updateDashboard();
  }

  function updateDashboard() {
    const data = config[currentDept];
    const now = new Date();
    const hours = now.getHours();
    
    // 1. Time & Date
    const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const dateStr = now.toLocaleDateString(undefined, { weekday: 'long', day: 'numeric', month: 'long' });
    document.getElementById('time-el').innerText = timeStr;
    document.getElementById('date-el').innerText = dateStr;

    // 2. Static Info
    document.getElementById('header-title').innerText = data.title;
    document.getElementById('staff-name').innerText = data.staff;
    document.getElementById('shift-hours').innerText = "Shift: " + data.displayRange;

    // 3. Status Logic
    // IT: 9pm(21) - 6am(6)
    // WH: 8pm(20) - 6am(6)
    const isOnDuty = (hours >= data.startHour || hours < 6);

    const badge = document.getElementById('status-badge');
    const contacts = document.getElementById('contact-area');
    const waLink = document.getElementById('wa-link');
    const callLink = document.getElementById('call-link');
    const phoneDisplay = document.getElementById('phone-display');

    if (isOnDuty) {
        badge.innerHTML = '<span class="dot"></span> ON DUTY';
        badge.className = "status-badge on-duty";
        contacts.style.display = "flex";
        
        // Update Links
        waLink.href = "https://wa.me/" + data.phone.replace('+', '');
        callLink.href = "tel:" + data.phone;
        phoneDisplay.innerText = "ðŸ“ž Call " + data.phone;
    } else {
        badge.innerHTML = "OFF DUTY";
        badge.className = "status-badge off-duty";
        contacts.style.display = "none";
    }
  }

  // Init
  updateDashboard();
  setInterval(updateDashboard, 1000);
</script>

</body>
</html>

